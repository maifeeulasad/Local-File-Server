{"version":3,"sources":["asset/image/hug.webp","component/NavigationBar.js","component/Home.js","component/Upload.js","index.js"],"names":["module","exports","NavigationBar","props","state","route","console","log","Navbar","bg","variant","Brand","href","Collapse","className","Form","inline","FormControl","type","placeholder","Button","React","Component","Home","files","loadFiles","bind","renderFiles","this","filesUrl","data","server","axios","get","then","res","setState","map","file","localFileID","fileName","uploadTime","privateIP","publicIP","checksum","downloads","size","onClick","window","open","loopDuration","image","require","text","imageAnimation","textAnimation","backgroundColor","Table","striped","bordered","hover","Upload","link","status","undefined","ip","onInputChange","upload","copyLink","publicIp","CCJ","NotificationManager","success","e","url","form","FormData","append","post","uploadDone","catch","err","error","fileDownloadUri","target","length","multiple","onChange","Spinner","as","animation","role","aria-hidden","Group","Control","value","readOnly","isValid","router","exact","path","to","component","title","ReactDOM","render","document","getElementById"],"mappings":"2GAAAA,EAAOC,QAAU,IAA0B,kC,sOC+C5BC,G,OApCI,kDAMf,WAAYC,GAAO,IAAD,EAE4B,OAF5B,qBACd,cAAMA,IALVC,MAAM,CACFC,MAAM,IAKNC,QAAQC,IAAI,8BAA8B,EA0B7C,OAzBA,8CAID,cAEC,oBACD,WAEI,OACI,6BACI,kBAAC,wBAAqB,MACtB,kBAACC,EAAA,EAAM,CAACC,GAAG,OAAOC,QAAQ,QACtB,kBAACF,EAAA,EAAOG,MAAK,CAACC,KAAK,SAAO,qBAC1B,kBAACJ,EAAA,EAAOK,SAAQ,CAACC,UAAU,wBAE3B,kBAACC,EAAA,EAAI,CAACC,QAAM,GACR,kBAACC,EAAA,EAAW,CAACC,KAAK,OAAOC,YAAY,SAASL,UAAU,aACxD,kBAACM,EAAA,EAAM,CAACF,KAAK,UAAQ,UACrB,kBAACE,EAAA,EAAM,CAACV,QAAQ,SAASQ,KAAK,SAASN,KAAK,WAAS,iBAMxE,EAlCc,CAASS,IAAMC,YCoGnBC,EAnGL,kDAMN,WAAYpB,GAAO,IAAD,EAG+B,OAH/B,qBACd,cAAMA,IALVC,MAAM,CACFoB,MAAM,IAKN,EAAKC,UAAU,EAAKA,UAAUC,KAAK,gBACnC,EAAKC,YAAY,EAAKA,YAAYD,KAAK,gBAAM,EAsFhD,OArFA,+CAGD,WACIE,KAAKH,cACR,uBAED,WAAY,IAAD,OACHI,EAASC,EAAKC,OAAO,SACzBzB,QAAQC,IAAIsB,GACZG,IACKC,IAAIJ,GACJK,MAAK,SAACC,GACH7B,QAAQC,IAAI4B,EAAIL,MAChB,EAAKM,SAAS,CAACZ,MAAMW,EAAIL,YAEpC,yBAED,WACI,OAAOF,KAAKxB,MAAMoB,MAAMa,KAAI,SAACC,GACzB,OACI,4BACI,4BAAKA,EAAKC,aACV,4BAAKD,EAAKE,UACV,4BAAKF,EAAKG,YACV,4BAAKH,EAAKI,WACV,4BAAKJ,EAAKK,UACV,4BAAKL,EAAKM,UACV,4BAAKN,EAAKO,WACV,4BAAKP,EAAKQ,MACV,4BACI,kBAAC1B,EAAA,EAAM,CAACV,QAAQ,UACRqC,QAAS,WAAKC,OAAOC,KAAK,kCAAkCX,EAAKC,YAAa,YAAW,mBAOpH,oBAGD,WACI,OACI,6BACI,kBAAC,IAAO,CACJW,aAAc,KACdpB,KAAM,CACF,CACIqB,MAAOC,EAAQ,KACfC,KAAM,0CACNC,eAAgB,UAChBC,cAAe,SACfC,gBAAiB,cAI7B,kBAAC,EAAa,MAGd,yBAAK1C,UAAW,aAEZ,kBAAC2C,EAAA,EAAK,CAACC,SAAO,EAACC,UAAQ,EAACC,OAAK,GACzB,+BACA,4BACI,uCACA,yCACA,2CACA,0CACA,yCACA,wCACA,2CACA,oCACA,0CAGJ,+BAEIhC,KAAKD,sBAO5B,EA/FK,CAASN,IAAMC,W,gCC2HVuC,EA3HH,kDAQR,WAAY1D,GAAO,IAAD,EAIyB,OAJzB,qBACd,cAAMA,IARVC,MAAM,CACF0D,KAAK,GACLC,OAAO,QACPzB,UAAK0B,EACLC,QAAGD,GAKH,EAAKE,cAAc,EAAKA,cAAcxC,KAAK,gBAC3C,EAAKyC,OAAO,EAAKA,OAAOzC,KAAK,gBAC7B,EAAK0C,SAAS,EAAKA,SAAS1C,KAAK,gBAAM,EA4G1C,OA3GA,+CAED,WAAsB,IAAD,OACjB2C,OAAcnC,MAAK,SAAC+B,GAChB3D,QAAQC,IAAI0D,GACZ,EAAK7B,SAAS,CAAC6B,GAAGA,SAEzB,sBAED,WACIK,WAAa1C,KAAKxB,MAAM0D,MACxBlC,KAAKQ,SAAS,CAAC2B,OAAO,WACtBQ,sBAAoBC,QAAQ,sBAAsB,GAAG,OACxD,oBAID,WAAS,IACDlC,EADA,OAEJ,IACIA,EAAKV,KAAKxB,MAAMkC,KAAK,GAEzB,MAAOmC,GACH,OAEJ,IAAIC,EAAI3C,EAAOA,OAAO,UAClB4C,EAAK,IAAIC,SACbD,EAAKE,OAAO,OAAOvC,GACnBqC,EAAKE,OAAO,KAAKjD,KAAKxB,MAAM6D,IAC5BjC,IAAM8C,KAAKJ,EAAIC,GACVzC,MAAK,SAACC,GAAG,OAAG,EAAK4C,WAAW5C,EAAIL,SAChCkD,OAAM,SAACC,GAAG,OAAGV,sBAAoBW,MAAMD,EAAI,GAAG,UACtD,wBAED,SAAW9C,GACPoC,sBAAoBC,QAAQ,UAAU,GAAG,KACzC5C,KAAKQ,SAAS,CAAC2B,OAAO,SACtBnC,KAAKQ,SAAS,CAAC0B,KAAK3B,EAAIgD,oBAC3B,2BAID,SAAcV,GACiB,IAAxBA,EAAEW,OAAO5D,MAAM6D,QACdzD,KAAKQ,SAAS,CAACE,KAAKmC,EAAEW,OAAO5D,UAEpC,oBAED,WACI,IAAIuC,EAAOnC,KAAKxB,MAAM2D,OAGtB,OAFAzD,QAAQC,IAAIwD,GACZzD,QAAQC,IAAIqB,KAAKxB,MAAMkC,MACX,UAATyB,EAEK,6BACI,kBAAC,EAAa,MACd,yBAAKjD,UAAU,UACX,2BAAOwE,UAAU,EAAOpE,KAAK,OAAOqE,SAAU3D,KAAKsC,gBACnD,kBAAC9C,EAAA,EAAM,CAAC2B,QAASnB,KAAKuC,OAAQzD,aAA4BsD,IAAlBpC,KAAKxB,MAAMkC,KAAmB,kBAAoB,QAAO,YAKhG,cAATyB,EAEA,6BACI,kBAAC,EAAa,MACd,yBAAKjD,UAAU,UACX,kBAAC0E,EAAA,EAAO,CACJC,GAAG,OACHC,UAAU,OACV5C,KAAK,GACL6C,KAAK,SACLC,cAAY,WAMf,SAAT7B,EAEA,6BACI,kBAAC,EAAa,MACd,yBAAKjD,UAAU,UACX,kBAACC,EAAA,EAAI,KACD,kBAACA,EAAA,EAAK8E,MAAK,KACP,kBAAC9E,EAAA,EAAK+E,QAAO,CAACC,MAAOnE,KAAKxB,MAAM0D,KAAMkC,UAAQ,EAACjD,QAASnB,KAAKwC,eAOpE,WAATL,EAEA,6BACI,kBAAC,EAAa,MACd,yBAAKjD,UAAU,UACX,kBAACC,EAAA,EAAI,KACD,kBAACA,EAAA,EAAK8E,MAAK,KACP,kBAAC9E,EAAA,EAAK+E,QAAO,CAACC,MAAOnE,KAAKxB,MAAM0D,KAAMkC,UAAQ,EAACC,SAAO,EAAClD,QAASnB,KAAKwC,oBAPxF,MAcR,EAxHO,CAAS/C,IAAMC,W,eCNrB4E,EACF,kBAAC,IAAa,KACV,kBAAC,IAAM,KACH,kBAAC,IAAK,CAACC,OAAK,EAACC,KAAK,KACd,kBAAC,IAAQ,CAACC,GAAG,WAEjB,kBAAC,IAAK,CAACD,KAAK,QAAQE,UAAW/E,EAAMgF,MAAO,SAC5C,kBAAC,IAAK,CAACH,KAAK,UAAUE,UAAWzC,EAAQ0C,MAAO,YAChD,kBAAC,IAAK,CAACH,KAAK,KACR,kBAAC,IAAQ,CAACC,GAAI,aAO9BG,IAASC,OAAOP,EAAQQ,SAASC,eAAe,U","file":"static/js/main.b699729e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hug.bc7a0d62.webp\";","import React from 'react';\nimport {Navbar,Form,FormControl,Button} from \"react-bootstrap\";\n//import Form from \"react-bootstrap/Form\";\n//import NavDropdown from \"react-bootstrap/NavDropdown\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {NotificationContainer} from \"react-notifications\";\nimport 'react-notifications/lib/notifications.css';\nimport '../index.css';\n//import axios from \"axios\";\n//import server from '../server';\n\nclass NavigationBar extends React.Component{\n\n    state={\n        route:''\n    };\n\n    constructor(props){\n        super(props);\n        console.log('check for more file upload');\n    }\n\n\n\n    componentDidMount() {\n        \n    }\n    render() {\n\n        return(\n            <div>\n                <NotificationContainer/>\n                <Navbar bg=\"dark\" variant=\"dark\">\n                    <Navbar.Brand href=\"/home\">Local File Server</Navbar.Brand>\n                    <Navbar.Collapse className=\"justify-content-end\">\n                    </Navbar.Collapse>\n                    <Form inline>\n                        <FormControl type=\"text\" placeholder=\"Search\" className=\" mr-sm-2\" />\n                        <Button type=\"submit\">Search</Button>\n                        <Button variant=\"danger\" type=\"submit\" href=\"/upload\">Upload</Button>\n                    </Form>\n                </Navbar>\n            </div>\n        );\n\n    }\n}\nexport default NavigationBar;\n","import React from 'react';\nimport Welcome from 'react-welcome-page'\nimport axios from 'axios';\nimport {Table} from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../index.css';\nimport data from '../cofig'\nimport NavigationBar from \"./NavigationBar\";\nimport Button from \"react-bootstrap/Button\";\n\n\nclass Home extends React.Component{\n\n    state={\n        files:[],\n    };\n\n    constructor(props){\n        super(props);\n        this.loadFiles=this.loadFiles.bind(this);\n        this.renderFiles=this.renderFiles.bind(this);\n    }\n\n\n    componentWillMount() {\n        this.loadFiles();\n    }\n\n    loadFiles(){\n        let filesUrl=data.server+\"/files\";\n        console.log(filesUrl);\n        axios\n            .get(filesUrl)\n            .then((res)=>{\n                console.log(res.data);\n                this.setState({files:res.data})\n            })\n    }\n\n    renderFiles(){\n        return this.state.files.map((file)=>{\n            return(\n                <tr>\n                    <td>{file.localFileID}</td>\n                    <td>{file.fileName}</td>\n                    <td>{file.uploadTime}</td>\n                    <td>{file.privateIP}</td>\n                    <td>{file.publicIP}</td>\n                    <td>{file.checksum}</td>\n                    <td>{file.downloads}</td>\n                    <td>{file.size}</td>\n                    <td>\n                        <Button variant=\"warning\"\n                                onClick={()=>{window.open(\"http://localhost:8080/download/\"+file.localFileID, \"_blank\")}}>\n                            Download\n                        </Button>\n                    </td>\n                </tr>\n            );\n        })\n    }\n\n\n    render() {\n        return(\n            <div>\n                <Welcome\n                    loopDuration={2500}\n                    data={[\n                        {\n                            image: require('../asset/image/hug.webp'),\n                            text: 'Just a Local Server to serve your files',\n                            imageAnimation: 'flipInX',\n                            textAnimation: 'bounce',\n                            backgroundColor: '#49ff51',\n                        },\n                    ]}\n                />\n                <NavigationBar/>\n\n\n                <div className={\"m-wrapper\"}>\n\n                    <Table striped bordered hover>\n                        <thead>\n                        <tr>\n                            <th>File ID</th>\n                            <th>File Name</th>\n                            <th>Upload Time</th>\n                            <th>Private IP</th>\n                            <th>Public IP</th>\n                            <th>Checksum</th>\n                            <th>Download(s)</th>\n                            <th>Size</th>\n                            <th>Download</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {\n                            this.renderFiles()\n                        }\n                        </tbody>\n                    </Table>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default Home;\n","import React from 'react';\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from 'axios';\nimport server from '../server';\nimport {NotificationManager} from \"react-notifications\";\nimport NavigationBar from './NavigationBar';\nimport * as CCJ from \"copy-clipboard-js\";\nimport * as publicIp from 'public-ip';\n\n\nclass Upload extends React.Component{\n    state={\n        link:'',\n        status:'ready',//ready,uploading,done,copied\n        file:undefined,\n        ip:undefined\n    };\n\n    constructor(props){\n        super(props);\n        this.onInputChange=this.onInputChange.bind(this);\n        this.upload=this.upload.bind(this);\n        this.copyLink=this.copyLink.bind(this);\n    }\n\n    componentWillMount() {\n        publicIp.v4().then((ip)=>{\n            console.log(ip);\n            this.setState({ip:ip})\n        })\n    }\n\n    copyLink(){\n        CCJ.copyText(this.state.link);\n        this.setState({status:'copied'});\n        NotificationManager.success(\"Copied to clipboard\",'',3000);\n    }\n\n\n\n    upload(){\n        let file;\n        try{\n            file=this.state.file[0];\n        }\n        catch (e) {\n            return;\n        }\n        let url=server.server+\"/upload\";\n        let form=new FormData();\n        form.append(\"file\",file);\n        form.append(\"ip\",this.state.ip);\n        axios.post(url,form)\n            .then((res)=>this.uploadDone(res.data))\n            .catch((err)=>NotificationManager.error(err,'',2000));\n    }\n\n    uploadDone(res){\n        NotificationManager.success(\"Success\",'',3000);\n        this.setState({status:'done'});\n        this.setState({link:res.fileDownloadUri})\n    }\n\n\n\n    onInputChange(e){\n        if(e.target.files.length!==0){\n            this.setState({file:e.target.files});\n        }\n    };\n\n    render() {\n        let status=this.state.status;\n        console.log(status);\n        console.log(this.state.file);\n        if(status==='ready'){\n            return(\n                <div>\n                    <NavigationBar/>\n                    <div className=\"center\">\n                        <input multiple={false} type=\"file\" onChange={this.onInputChange}/>\n                        <Button onClick={this.upload} variant={ this.state.file!==undefined ? \"outline-success\" : \"dead\"}>Upload</Button>\n                    </div>\n                </div>\n            );\n        }\n        else if(status==='uploading'){\n            return(\n                <div>\n                    <NavigationBar/>\n                    <div className=\"center\">\n                        <Spinner\n                            as=\"span\"\n                            animation=\"grow\"\n                            size=\"\"\n                            role=\"status\"\n                            aria-hidden=\"true\"\n                        />\n                    </div>\n                </div>\n            );\n        }\n        else if(status==='done'){\n            return(\n                <div>\n                    <NavigationBar/>\n                    <div className=\"center\">\n                        <Form>\n                            <Form.Group >\n                                <Form.Control value={this.state.link} readOnly onClick={this.copyLink}/>\n                            </Form.Group>\n                        </Form>\n                    </div>\n                </div>\n            );\n        }\n        else if(status==='copied'){\n            return(\n                <div>\n                    <NavigationBar/>\n                    <div className=\"center\">\n                        <Form>\n                            <Form.Group >\n                                <Form.Control value={this.state.link} readOnly isValid onClick={this.copyLink}/>\n                            </Form.Group>\n                        </Form>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nexport default Upload;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Home from \"./component/Home\";\nimport Upload from \"./component/Upload\";\nimport {BrowserRouter,Switch, Route, Redirect} from 'react-router-dom'\n\nconst router=\n    <BrowserRouter>\n        <Switch>\n            <Route exact path=\"/\">\n                <Redirect to=\"/home\"/>\n            </Route>\n            <Route path=\"/home\" component={Home} title={\"Home\"}/>\n            <Route path=\"/upload\" component={Upload} title={\"Profile\"}/>\n            <Route path=\"*\">\n                <Redirect to={\"/home\"}/>\n            </Route>\n        </Switch>\n    </BrowserRouter>;\n\n\n\nReactDOM.render(router, document.getElementById('root'));\n"],"sourceRoot":""}